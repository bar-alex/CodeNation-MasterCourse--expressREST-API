<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CN - ExpressAPI description - user</title>
</head>
<body>
        
    <h3>API that was created for the Code Nation Master course as an example to manipulate a database of users.</h3>
    <h4>It allows for the login of users and superusers (admins) and CRUD operations are allowed only to admins and the user affected by the operation (i.e. a normal user can update it's own info)
    <h4>These are the available paths for it's usage ( <pre style="display: inline">-< input; -> output</pre> )</h4>
    <pre>
GET     /api-help                                                   -> returns a webpage that describes the API entry points and usage

POST    /user           -< body:{username, email, password}         -> returns token    :: adds user to list of users
POST    /login          -< body:{username, password}                -> returns token

GET     /users          -< header:token                             -> depending on the token, returns a list of all or just non-admin users
GET     /users/admin    -< header:token (admin)                     -> return list of admin users

GET     /user/*userName*  -< header:token (self/admin)              -> returns the user's details, without the password
PUT     /user/*userName*  -< body:{email, password}, header:token (self/admin) -> updates user info
DELETE  /user/*userName*  -< header:token (self/admin)              -> deletes the user in database
    </pre>

    <h4>Usage scenarios</h4>
    <pre>
- POST /user with {username, password, email}   will allow to add a user without requiring any credentials
- POST /login with {username, password}       will login a user am=nd return an authentication token

- Logged in users will be known by transmitting the token in the 'Authorization' header

- GET /users        (requires token in 'Authorization' header) will return a list of all users
- GET /users/admin  (requires admin token) will return a list of all admin users

- GET /user/*userName* with header:token will return the user's details (except password) if the token belongs to him or to an admin
- PUT /user/*userName* with {email, password} and header:token will update the specified user details if the token belongs to him or an admin
- DELETE /user/*userName* with header:token will delete the user if the token belongs to him or to an admin
    </pre>
    
</body>
</html>